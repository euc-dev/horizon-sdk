---
layout: page
title: Horizon webRTC Redirection SDK
hide:
  #- navigation
  - toc
---
# `v1.GetLocalTopology`  
Retrieves the topology of the local Horizon client.  
**Member of**: `VDPScreenCapture_Interface`  

**Method Signature**  
```c
VDPScreenCapture_Error (*v1.GetLocalTopology)(
    VDPScreenCapture_ContextId contextId,
    VDPScreenCapture_Rect* pBounds,
    int32* pszTopology,
    VDPScreenCapture_Rect* pTopology
);
```

**Parameters**  
| Parameter     | Description |
|---------------|-------------|
| contextId     | The ID returned from `VDPScreenCapture.v1.Init()`. |
| pBounds       | Returns a rectangle which contains the bounding box for the entire Horizon client. Pass NULL to avoid returning the information. |
| pszTopology   | A pointer to an int32. On input the value is the size of the pTopology array which will return the Horizon client topology. On output the value is the number of rectangles required to hold the entire Horizon client topology; which may be larger than the size passed in if the pTopology array is too small to hold the entire topology. Passing NULL is treated the same as *pszTopology == 0. |
| pTopology     | A pointer to an array which returns the rectangles that make up the Horizon client topology. Can be NULL only if pszTopology is NULL or *pszTopology == 0. |

**Return Values**  
| Value | Description |
|-------|-------------|
| `VDP_SCREEN_CAPTURE_ERROR_SUCCESS` | The topology information was returned. |
| `VDP_SCREEN_CAPTURE_ERROR_INVALID_PARAMETER` | contextId is invalid, szTopology is < 0 or pTopology is NULL when szTopology > 0. |
| `VDP_SCREEN_CAPTURE_ERROR_NOT_ALLOWED_IN_APP_MODE` | This function cannot be called when the Horizon client is in application mode. |

