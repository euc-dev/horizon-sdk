---
layout: page
title: Horizon webRTC Redirection SDK
hide:
  #- navigation
  - toc
---
# v2.GetStreamData

Fetches the stream data to send via the TCP socket. This API is used when data needs either compression or encryption. It also works if neither of them is needed, but the data involves one additional memory allocation and memcpy. Be sure to call `v2.FreeStreamDataPayload` to avoid a memory leak.

This function is a member of `VDPRPC_StreamDataInterface`.

## Method Signature
```
int (*v2.GetStreamData)(int fd, uint32 ctxOptions, int *reqId, int reqCmd, VDP_RPC_BLOB *blob, VDP_RPC_BLOB *payload);
```

## Parameters

| Parameter | Description |
| --------- | ----------- |
| fd | A valid socket handle returned by `v2.SwitchToStreamDataMode`. |
| ctxOptions | Compression and encryption options. |
|reqId | RPC request ID is returned here for caller to track each request. |
| reqCmd | Request command. |
| blob | Blob data that needs to be sent. |
| payload | Actual RPC packet data is returned in this payload. |

## Return Values

| Value | Description |
| ----- | ----------- |
| TRUE | Payload creation succeeded. |
| FALSE | Payload creation failed. |


